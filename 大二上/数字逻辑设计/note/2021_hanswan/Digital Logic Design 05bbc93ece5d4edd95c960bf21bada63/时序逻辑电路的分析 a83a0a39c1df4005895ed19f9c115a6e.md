# 时序逻辑电路的分析

时序逻辑电路的分析，即是通过给出的电路图，分析它的状态和状态之间的转换。事实上，在上一部分 [时序逻辑基础](%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E5%9F%BA%E7%A1%80%207576fe9c309b432cbd6431f6c2ce0e4b.md) 中的计数器部分，我们已经提到了对时序逻辑电路的分析方法。

时序电路的分析包含下面 5 个部分：

- 输入方程：指的是电路中所有触发器的**输入端**（比如，D 端、T 端和 J 与 K 端）连接的电路的方程。
- 输出方程：指的是电路中的所有**输出端和触发器**之间的接法。对于 Moore 型计数器，它的输出就是总体输出，因此不需要考虑这个问题。
- 状态转移方程：指的是电路中各个**触发器的状态转移方程**（即次态输出和现态输出、输入之间的关系）。
- 状态转换表：指的是电路的**现态**和**次态**之间的转换，以及对应的触发条件。
- 状态图：指的是电路各状态之间的循环关系。

下面是一些例子。

# 同步时序逻辑电路的分析

## D 触发器

![Untitled](%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90%20a83a0a39c1df4005895ed19f9c115a6e/Untitled.png)

输入方程：

$$
\left\{\begin{align*}D_1&=AQ_2'\\D_2&=A(Q_1'Q_2')'=A(Q_1+Q_2)\end{align*}\right.
$$

状态方程：

$$
\left\{\begin{align*}Q_1^{n+1}&=D_1=AQ_2'\\Q_2^{n+1}&=D_2=A(Q_1+Q_2)\end{align*}\right.
$$

输出方程：

$$
F=AQ_1'Q_2
$$

状态表：

| 输入 A | 现态 Q1 | 现态 Q2 | 次态 Q1 | 次态 Q2 | 输出 F |
| --- | --- | --- | --- | --- | --- |
| 0 | 0 | 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 0 | 0 | 0 |
| 0 | 1 | 0 | 0 | 0 | 0 |
| 0 | 1 | 1 | 0 | 0 | 0 |
| 1 | 0 | 0 | 1 | 0 | 0 |
| 1 | 0 | 1 | 0 | 1 | 1 |
| 1 | 1 | 0 | 1 | 1 | 0 |
| 1 | 1 | 1 | 0 | 1 | 0 |

画出状态图如下：

![Untitled](%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90%20a83a0a39c1df4005895ed19f9c115a6e/Untitled%201.png)

由于状态图包含了所有状态，因此可以自启动。

## JK 触发器

从左往右的四个触发器编号为 3、2、1、0。

![Untitled](%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90%20a83a0a39c1df4005895ed19f9c115a6e/Untitled%202.png)

输入方程：

$$
\left\{\begin{align*}&J_3=1, K_3=Q_0\\&J_2=1, K_2=\overline{Q_3}\\&J_1=1, K_1=\overline{Q_2}\\&J_0=1, K_0=\overline{Q_1}\end{align*}\right.
$$

状态方程：$Q^{n+1}=J\overline{Q^n}+\overline{K}Q^n$，得到

$$
\left\{\begin{align*}Q_3^{n+1}&=\overline{Q_3^n}+\overline{Q_0^n}Q_3^n \\ Q_2^{n+1}&=\overline{Q_2^n}+Q_3^nQ_2^n \\ Q_1^{n+1}&=\overline{Q_1^n}+Q_2^nQ_1^n \\ Q_0^{n+1}&=\overline{Q_0^n}+Q_1^nQ_0^n\end{align*}\right.
$$

画出状态表：

| 现态 Q3 | Q2 | Q1 | Q0 | 次态 Q3 | Q2 | Q1 | Q0 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 0 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
| 0 | 0 | 0 | 1 | 1 | 1 | 1 | 0 |
| 0 | 0 | 1 | 0 | 1 | 1 | 0 | 1 |
| 0 | 0 | 1 | 1 | 1 | 1 | 0 | 1 |
| 0 | 1 | 0 | 0 | 1 | 0 | 1 | 1 |
| 0 | 1 | 0 | 1 | 1 | 0 | 1 | 0 |
| 0 | 1 | 1 | 0 | 1 | 0 | 1 | 1 |
| 0 | 1 | 1 | 1 | 1 | 0 | 1 | 1 |
| 1 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 0 | 0 | 1 | 0 | 1 | 1 | 0 |
| 1 | 0 | 1 | 0 | 1 | 1 | 0 | 1 |
| 1 | 0 | 1 | 1 | 0 | 1 | 0 | 1 |
| 1 | 1 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 0 | 1 | 0 | 1 | 1 | 0 |
| 1 | 1 | 1 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 1 | 1 | 0 | 1 | 1 | 1 |

状态图：不画了

由于包含了所有状态，因此这个电路可以自启动。

# 异步时序逻辑电路的分析

由于异步时序电路稳定性差，容易产生毛刺，因此实际应用中很少见。

![Untitled](%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90%20a83a0a39c1df4005895ed19f9c115a6e/Untitled%203.png)

输入方程（$K_i=1$）

$$
\left\{\begin{align*}J_4&=Y_3Y_2\\J_3&=1\\J_2&=Y_4'\\J_1&=1\end{align*}\right.
$$

状态方程：

$$
\left\{\begin{align*}Y_4^{n+1}&=Y_3Y_2Y_4',\text{触发条件：}Y_1\downarrow\\Y_3^{n+1}&=Y_3', \text{触发条件：}Y_2\downarrow\\Y_2^{n+1}&=Y_4'Y_2', \text{触发条件：}Y_1\downarrow\\Y_1^{n+1}&=Y_1'\end{align*}\right.
$$

状态转换表：

| 现态 Y4 | Y3 | Y2 | Y1 | 次态 Y4 | Y3 | Y2 | Y1 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 1 ↑ |
| 0 | 0 | 0 | 1 | 0 | 0 | 1 ↑ | 0 ↓ |
| 0 | 0 | 1 | 0 | 0 | 0 | 1 | 1 ↑ |
| 0 | 0 | 1 | 1 | 0 | 1 ↑ | 0 ↓ | 0 ↓ |
| 0 | 1 | 0 | 0 | 0 | 1 | 0 | 1 ↑ |
| 0 | 1 | 0 | 1 | 0 | 1 | 1 ↑ | 0 ↓ |
| 0 | 1 | 1 | 0 | 0 | 1 | 1 | 1 ↑ |
| 0 | 1 | 1 | 1 | 1 ↑ | 0 ↓ | 0 ↓ | 0 ↓ |
| 1 | 0 | 0 | 0 | 1 | 0 | 0 | 1 ↑ |
| 1 | 0 | 0 | 1 | 0 ↓ | 0 | 0 | 0 ↓ |
| 1 | 0 | 1 | 0 | 1 | 0 | 1 | 1 ↑ |
| 1 | 0 | 1 | 1 | 0 ↓ | 1 ↑ | 0 ↓ | 0 ↓ |
| 1 | 1 | 0 | 0 | 1 | 1 | 0 | 1 ↑ |
| 1 | 1 | 0 | 1 | 0 | 1 | 0 | 0 ↓ |
| 1 | 1 | 1 | 0 | 1 | 1 | 1 | 1 ↑ |
| 1 | 1 | 1 | 1 | 0 ↓ | 0 ↓ | 0 ↓ | 0 ↓ |

状态图：不画了，看着上表画就行了。