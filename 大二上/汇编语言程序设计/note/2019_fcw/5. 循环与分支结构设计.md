---
title: 5——循环与分支结构设计
top: false
cover: false
toc: true
mathjax: true
date: 2021-01-05 09:27:02
password:
summary:
tags: "汇编"
categories: "汇编复习简纲"
---

# 五 循环与分支结构设计

在汇编语言中，存在顺序执行、分支语句和循环语句三种程序执行结构，可以使用转移指令来实现分支语句，使用转移指令或循环指令来实现循环语句。

## 一 控制转移指令

### 1 无条件转移指令

| 指令名称       | 指令格式          | 指令效果                                   |
| -------------- | ----------------- | ------------------------------------------ |
| 段内直接短转移 | jmp short opr     | （ip）<-（ip）+8位位移量                   |
| 段内直接近转移 | jmp near ptr opr  | （ip）<-（ip）+16位位移量                  |
| 段内间接转移   | jmp word ptr opr  | （ip）<-（EA）                             |
| 段间直接转移   | jmp far ptr opr   | （ip）<-opr偏移地址<br />（cs）<-opr段地址 |
| 段间间接转移   | jmp dword ptr opr | （ip）<-（EA）<br />（cs）<-（EA+2）       |

### 2 条件转移指令

| 指令名称 | 检测条件                        | 转移条件        |
| -------- | ------------------------------- | --------------- |
| jz、je   | zf=1                            | 结果为0或相等   |
| jnz、jne | zf=0                            | 结果不为0或不等 |
| js       | sf=1                            | 结果为负        |
| jns      | sf=0                            | 结果为正        |
| jc       | cf=1                            | 有进位或借位    |
| jnc      | cf=0                            | 无进位或借位    |
| jo       | of=1                            | 运算有溢出      |
| jno      | of=0                            | 运算无溢出      |
| jp、jpe  | pf=1                            | 有偶数个1       |
| jnp、jpo | pf=0                            | 有奇数个1       |
| jb、jnae | cf=1                            | 无符号低于      |
| jnb、jae | cf=0                            | 无符号不低于    |
| jbe、jna | cf=1或zf=1                      | 无符号低于等于  |
| jnbe、ja | cf=0且zf=0                      | 无符号大于      |
| jl、jnge | sf$\otimes$of=1                 | 算数小于        |
| jnl、jge | sf$\otimes$of=0                 | 算数大于等于    |
| jg、jnle | （sf$\otimes$of=0）<br />且zf=0 | 算数大于        |
| jng、jle | sf$\otimes$of=1<br />或zf=1     | 算数小于等于    |

### 3 循环指令

| 指令名称       | 检测条件            |
| -------------- | ------------------- |
| loop           | $cx\neq0$           |
| loope、loopz   | $cx\neq0$ 且 $zf=1$ |
| loopne、loopnz | $cx\neq0$ 且 $zf=0$ |

### 二 循环基本结构

* 循环初始化部分：

    在该部分对需要处理的数据进行初始化，同时对循环次数等进行初始化，且必要的话需要进行数据保护

* 循环体：

    在该部分实现待完成的工作

* 循环修改部分：

    修改循环相关量，如地址、计数器等

* 循环控制部分：

    在该部分处理循环和退出循环的逻辑判断

### 三 分支结构程序设计

* 双分支结构：用于 $if$ 结构，或 $if-else$ 结构

* 多分支语句：

    * 使用双分支语句嵌套实现多分支
    * 进行逻辑分解，顺序执行，至到满足条件再进行跳转
    * 跳跃表法，将每段分支程序的入口放入跳跃表中
    * 转移表法：将每段分支程序对应跳转语句的地址放入转移表中

    