---
title: 1——寻址方式
top: false
cover: false
toc: true
mathjax: true
date: 2021-01-02 15:45:39
password:
summary:
tags: "汇编"
categories: "汇编复习简纲"
---

# 第二讲 寻址方式

## 一 操作数

操作数有三种来源，分别为**立即数操作数**、**寄存器操作数**和**存储器操作数**。指令通常格式为 `操作码 (操作数1，操作2)`，寻址的目的是获得指令操作数的地址。

## 二 与数据有关的寻址方式

立即寻址和寄存器寻址无需访问存储器，运行速度较快。而后五种寻址方式需要访问存储器，其中相对寻址、基址变址寻址可以用来访问数组，而相对基址变址寻址可以用来访问二维数组。

| 寻址方式         | 操作数格式                         |
| ---------------- | ---------------------------------- |
| 立即寻址方式     | 数字                               |
| 寄存器寻址方式   | 通用寄存器和段寄存器               |
| 直接寻址         | [buffer]（buffer为符号或数字）     |
| 间接寻址         | [R]（之后以 R 来代指 BX/BP/SI/DI） |
| 相对寻址         | X[R] 或 [X+R]                      |
| 基址变址寻址     | [BX/BP+SI/DI]                      |
| 相对基址变址寻址 | R[BX/BP+SI/DI]                     |

> 注：立即寻址中数字不能作为第一个操作数。操作数不能同时对存储器寻址。当操作数中出现 BP 时，默认段地址为 SS，此时 PA=(SS<<4) + Offset(buffer) ，这里的 buffer 表示存储器地址通式。否则 PA=(DS<<4) + Offset(buffer)

* 段跨越问题

    若不想使用默认的段地址，使用 `DS/SS/ES/CS:[buffer]` 的方式用来指定段地址。但是取指令操作、PUSH和POP操作、串处理指令的目的串不得使用段跨越前缀。

## 三 与转移地址有关的寻址方式

用来确定转移指令以及 `call` 指令的转向地址。转移指令负责将得到的段地址和偏移地址分别放入 CS 和 IP 寄存器中。

* 段内转移

    * 段内直接寻址

        * 短转：JMP SHORT QUEST 8 位位移量，-128~+127
        * 近转：JMP NEAR PTR NEXT 16 位位移量，-32768~32767

    * 段内间接寻址

        * JMP R
        * JMP word ptr [buffer] 此处 buffer 同上，为存储器寻址方式统称

        IP 寄存器中内容替换为访问存储单元内容

* 段间转移

    * 段间直接寻址

        JMP FAR PTR NEXTROUNT，其把 `seg nextrount` 放入 CS 中，`offset nextrount` 放入 IP 中

    * 段间间接寻址

        JMP word ptr [buffer]，将存储器中高位放入 CS 中，低位放入 IP 中